<ion-content>
  <div *ngIf="vm$ | async as vm">
    <ion-card>
      <ion-card-header>
        <ion-card-title> Tudo pronto {{ vm.name }} </ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>Temos aqui os detalhes do seu empréstimo</p>
        <ion-item-group *ngIf="vm.result as result">
          <ion-item-divider>
            <ion-label class="ion-text-uppercase">Seu empréstimo</ion-label>
          </ion-item-divider>
          <ion-item>
            <ion-label>
              <ion-row>
                <ion-col>Valor</ion-col>
                <ion-col>{{ result.valor | currency }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col>Qtd Prest.</ion-col>
                <ion-col>{{ result.qtdParcelas | number : "1.0-0" }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col>Produto</ion-col>
                <ion-col class="ion-text-uppercase">{{
                  result.descricaoProduto
                }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col>Tipo Amort.</ion-col>
                <ion-col class="ion-text-uppercase">{{ vm.type }}</ion-col>
              </ion-row>
            </ion-label>
          </ion-item>
        </ion-item-group>
        <ion-item-group class="installments-list">
          <ion-item-divider>
            <ion-label> PRESTAÇÕES </ion-label>
          </ion-item-divider>
          <ion-item *ngFor="let installment of vm.installments">
            <ion-label>
              <ion-row>
                <ion-col>Prest. n.º </ion-col>
                <ion-col>{{ installment.numero | number : "1.0-0" }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col>Vr. Amort.</ion-col>
                <ion-col>{{ installment.valorAmortizacao | currency }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col>Vr. Juros</ion-col>
                <ion-col>{{ installment.valorJuros | currency }}</ion-col>
              </ion-row>
              <ion-row>
                <ion-col>Vr. Total</ion-col>
                <ion-col>{{ installment.valorPrestacao | currency }}</ion-col>
              </ion-row>
            </ion-label>
          </ion-item>
        </ion-item-group>
        <p>
          Consulte
          <a
            href="https://www.caixa.gov.br/voce/credito-financiamento/Paginas/default.aspx"
            target="_blank"
            >aqui</a
          >
          a lista de documentos necessários e
          <a
            href="https://www.caixa.gov.br/atendimento/Paginas/encontre-a-caixa.aspx"
            target="_blank"
            >aqui</a
          >
          a agência mais próximo de você
        </p></ion-card-content
      >
    </ion-card>
  </div>
</ion-content>
<ion-footer>
  <ion-button (click)="goBack()" expand="full">
    Voltar
    <ion-icon name="chevron-back-outline" slot="start"></ion-icon>
  </ion-button>
</ion-footer>
